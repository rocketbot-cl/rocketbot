<div class="card rounded-lg ">
    <div class="card-header can-click">

        <span>
            <hr class="hr-rocket hr-rocket-title">
            {{language[language_default].variables}}
        </span>
        <!--<button class="btn btn-info btn-sm float-right" ng-click="addVarModal(null, false)">
            <i class="fa fa-plus-circle"></i>  {{language[language_default].add_variable}}
        </button>-->
        <button class="btn btn-success btn-sm float-right mt-1 mb-1 mr-1 rounded"
            ng-click="editVar(null);addVarModal(null, false)">
            <i class="fa fa-plus-circle"></i> {{language[language_default].add_variable}}
        </button>
        <button class="btn btn-primary mr-1 btn-sm float-right mt-1 mb-1 rounded" data-toggle="modal"
            data-target="#modal_export_vars">
            <i class="fa fa-download"></i> {{language[language_default].export_variable}}
        </button>
        <button class="btn btn-info mr-1 btn-sm float-right mt-1 mb-1 rounded" data-toggle="modal"
            data-target="#modal_import_vars">
            <i class="fa fa-upload"></i> {{language[language_default].import_variable}}
        </button>
    </div>
    <div class="">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-sm table-ellipsis">
                <thead>
                    <tr>
                        <th width="20px"></th>
                        <th width="20px">#</th>
                        <th width="30%"> {{language[language_default].variable_name}}</th>
                        <th width="50%"> {{language[language_default].variable_data}}</th>
                        <th width="90px">
                            <div class="btn-group" role="group">
                                <div class="btn btn-outline-danger btn-sm form-inline" ng-click="removeVarAll()"
                                    title="Remove All">
                                    <i class="fas fa-trash-alt"></i><i class="fa fa-level-down-alt"></i>
                                </div>
                                <div class="btn btn-outline-primary btn-sm form-inline" ng-click="eraseVarAll()"
                                    title="Clear All">

                                    <i class="fas fa-eraser"></i><i class="fa fa-level-down-alt"></i>
                                </div>
                            </div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="var in vars" class="can-click" ng-click="editVar(var)"
                        ng-dblclick="addVarModal(null, true)" ng-class="{'table-info': var_to_update.index == $index}"
                        ng-init="var.collapse=true">

                        <td>
                            <small>
                                <i class="fa fa-archive"
                                    ng-class="{'fa-unlock':var.type == 'password', 'fa-archive':var.type == 'string'}"></i>
                            </small>
                        </td>
                        <td>
                            {{$index + 1}}
                        </td>
                        <td class="can-click">


                            {{var.name}}
                        </td>
                        <td class="can-click">
                            <span ng-show="!var.type || var.type == 'string'">

                                <div ng-show="var.collapse==true|| var.collapse == undefined">{{var.data | limitTo: 100
                                    }}{{var.data .length > 100 ? ' &hellip;' : ''}}

                                    <div class="text-center btn btn-outline-primary btn-sm rounded"
                                        ng-show="var.data.length>100 && (var.collapse==true|| var.collapse == undefined)"
                                        ng-click="editVar(var);addVarModal(null, true)">
                                        <i class="fas fa-arrows-alt-v"></i> {{language[language_default].expand}}
                                        <small>({{ var.data.length - 200 | Math_abs}}
                                            {{language[language_default].char}})</small>
                                        {{language[language_default].more}}
                                    </div>
                                </div>
                            </span>
                            <span ng-show="var.type == 'password'"> {{'*'| repeatString:var.data.length}}</span>
                        </td>
                        <td>
                            <div class="btn-group" role="group">
                                <div class="btn btn-outline-danger btn-sm form-inline" ng-click="removeVar($index)">
                                    <i class="fas fa-trash-alt"></i>
                                </div>
                                <div class="btn btn-outline-primary btn-sm form-inline" ng-click="eraseVar(var)">

                                    <i class="fas fa-eraser"></i>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>